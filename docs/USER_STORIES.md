# Receiptify - User Stories

## 범례
- ✅ **구현 완료**: 백엔드 API 및 프론트엔드 UI 모두 구현됨
- 🔧 **백엔드만 구현**: API는 존재하나 프론트엔드 미구현
- 📱 **프론트엔드만 구현**: UI는 있으나 백엔드 API 미연동
- ⏳ **부분 구현**: 일부 기능만 구현됨
- ❌ **미구현**: 아직 구현되지 않음

## 현재 구현 상태 요약
- **구현된 기능**: 사용자 관리, 자산 관리, 카테고리 관리, 가계부 내역 관리 (기본)
- **부분 구현**: 통계 및 분석
- **미구현**: 검색/필터링, 예산 관리, 알림, 데이터 백업/복원

## 목차
- [1. 사용자 관리](#1-사용자-관리)
- [2. 자산 관리](#2-자산-관리)
- [3. 카테고리 관리](#3-카테고리-관리)
- [4. 가계부 내역 관리](#4-가계부-내역-관리)
- [5. 통계 및 분석](#5-통계-및-분석)
- [6. 검색 및 필터링](#6-검색-및-필터링)
- [7. 예산 관리](#7-예산-관리)
- [8. 알림 및 리마인더](#8-알림-및-리마인더)
- [9. 데이터 관리](#9-데이터-관리)

---

## 1. 사용자 관리

### 1.1 회원가입 ✅
**As a** 신규 사용자
**I want to** 이메일과 비밀번호로 회원가입을 할 수 있다
**So that** 나만의 가계부를 시작할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/auth/register`
- ✅ 프론트엔드: `Register.tsx`

**Acceptance Criteria:**
- [x] 이메일 형식 검증
- [x] 비밀번호 강도 검증 (최소 8자, 영문/숫자 조합)
- [ ] 비밀번호 확인 일치 검증
- [x] 중복 이메일 체크
- [ ] 회원가입 성공 시 자동 로그인

### 1.2 로그인 ✅
**As a** 기존 사용자
**I want to** 이메일과 비밀번호로 로그인할 수 있다
**So that** 내 가계부 데이터에 접근할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/auth/login`
- ✅ 프론트엔드: `Login.tsx`

**Acceptance Criteria:**
- [x] 이메일/비밀번호 인증
- [x] 로그인 실패 시 명확한 오류 메시지
- [x] JWT 토큰 발급 및 저장
- [x] 자동 로그인 옵션 (토큰 유지)
- [x] 로그인 후 메인 페이지로 리다이렉트

### 1.3 로그아웃 📱
**As a** 로그인된 사용자
**I want to** 로그아웃할 수 있다
**So that** 내 계정을 안전하게 보호할 수 있다

**구현 상태:**
- ❌ 백엔드: 별도 API 불필요 (클라이언트 토큰 삭제)
- ⏳ 프론트엔드: 기능 존재하나 UI 개선 필요

**Acceptance Criteria:**
- [x] 로그아웃 버튼 클릭 시 즉시 로그아웃
- [x] 저장된 토큰 삭제
- [x] 로그인 페이지로 리다이렉트

### 1.4 비밀번호 변경 ❌
**As a** 사용자
**I want to** 비밀번호를 변경할 수 있다
**So that** 계정 보안을 강화할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 현재 비밀번호 확인
- [ ] 새 비밀번호 강도 검증
- [ ] 비밀번호 변경 성공 알림
- [ ] 변경 후 재로그인 필요 (선택사항)

### 1.5 회원 탈퇴 ❌
**As a** 사용자
**I want to** 회원 탈퇴를 할 수 있다
**So that** 더 이상 서비스를 이용하지 않을 때 내 데이터를 삭제할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 비밀번호 재확인
- [ ] 탈퇴 전 경고 메시지 표시
- [ ] 모든 사용자 데이터 삭제
- [ ] 탈퇴 완료 후 로그인 페이지로 이동

---

## 2. 자산 관리

### 2.1 자산 추가 ✅
**As a** 사용자
**I want to** 새로운 자산(계좌, 카드)을 추가할 수 있다
**So that** 내가 보유한 모든 자산을 관리할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/asset`
- ✅ 프론트엔드: `Settings.tsx` > `AssetModal.tsx`

**Acceptance Criteria:**
- [x] 자산 이름 입력
- [x] 자산 유형 선택 (계좌, 카드)
- [x] 초기 잔액 설정
- [x] 중복 이름 체크
- [x] 추가 성공 시 자산 목록에 표시

**참고:** 현금 자산 타입은 현재 미지원

### 2.2 자산 목록 조회 ✅
**As a** 사용자
**I want to** 내가 등록한 모든 자산을 볼 수 있다
**So that** 전체 자산 현황을 파악할 수 있다

**구현 상태:**
- ✅ 백엔드: `GET /api/asset`
- ✅ 프론트엔드: `Settings.tsx` > `AssetSection.tsx`, `AssetsTab.tsx`

**Acceptance Criteria:**
- [x] 자산 목록을 카드 형태로 표시
- [x] 자산별 잔액 표시
- [x] 총 자산 금액 표시
- [x] 최근 등록순 정렬

### 2.3 자산 수정 ✅
**As a** 사용자
**I want to** 등록된 자산 정보를 수정할 수 있다
**So that** 자산 정보를 최신 상태로 유지할 수 있다

**구현 상태:**
- ✅ 백엔드: `PUT /api/asset/:id`
- ✅ 프론트엔드: `Settings.tsx` > `AssetModal.tsx` (수정 모드)

**Acceptance Criteria:**
- [x] 자산 이름 수정 가능
- [x] 자산 유형 수정 가능
- [x] 잔액 직접 수정 가능 (조정)
- [x] 수정 성공 시 목록 즉시 반영

### 2.4 자산 삭제 ✅
**As a** 사용자
**I want to** 더 이상 사용하지 않는 자산을 삭제할 수 있다
**So that** 불필요한 자산을 정리할 수 있다

**구현 상태:**
- ✅ 백엔드: `DELETE /api/asset/:id`
- ✅ 프론트엔드: `Settings.tsx` > `KebabMenu.tsx`

**Acceptance Criteria:**
- [x] 삭제 전 확인 메시지 표시
- [ ] 해당 자산과 연결된 거래 내역 처리 안내
- [x] 삭제 성공 시 목록에서 제거

### 2.5 총 자산 조회 🔧
**As a** 사용자
**I want to** 모든 자산의 총 잔액을 볼 수 있다
**So that** 내 전체 재정 상황을 한눈에 파악할 수 있다

**구현 상태:**
- ✅ 백엔드: `GET /api/asset/total` (추정)
- ⏳ 프론트엔드: `AssetsTab.tsx`에서 클라이언트 측 계산

**Acceptance Criteria:**
- [x] 모든 자산 잔액 합계 계산
- [x] 큰 숫자로 눈에 띄게 표시
- [x] 실시간 업데이트

---

## 3. 카테고리 관리

### 3.1 카테고리 추가 ✅
**As a** 사용자
**I want to** 새로운 카테고리를 추가할 수 있다
**So that** 내 지출/수입을 세분화하여 분류할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/category`
- ✅ 프론트엔드: `Settings.tsx` > `CategoryModal.tsx`

**Acceptance Criteria:**
- [x] 카테고리 이름 입력
- [x] 카테고리 유형 선택 (수입/지출)
- [x] 부모 카테고리 선택 (1~3단계 계층)
- [x] 중복 이름 체크
- [x] 추가 성공 시 카테고리 목록에 표시

### 3.2 카테고리 목록 조회 ✅
**As a** 사용자
**I want to** 내가 등록한 모든 카테고리를 볼 수 있다
**So that** 어떤 카테고리가 있는지 확인할 수 있다

**구현 상태:**
- ✅ 백엔드: `GET /api/category`
- ✅ 프론트엔드: `Settings.tsx` > `CategorySections.tsx`

**Acceptance Criteria:**
- [x] 수입/지출 카테고리 분리 표시
- [x] 계층 구조로 표시 (트리 형태)
- [x] 1단계 > 2단계 > 3단계 구조 표시
- [ ] 각 카테고리별 사용 횟수 표시 (선택사항)

### 3.3 카테고리 수정 ✅
**As a** 사용자
**I want to** 등록된 카테고리 정보를 수정할 수 있다
**So that** 카테고리 구조를 개선할 수 있다

**구현 상태:**
- ✅ 백엔드: `PUT /api/category/:id`
- ✅ 프론트엔드: `Settings.tsx` > `CategoryModal.tsx` (수정 모드)

**Acceptance Criteria:**
- [x] 카테고리 이름 수정 가능
- [x] 부모 카테고리 변경 가능
- [x] 수정 성공 시 목록 즉시 반영

### 3.4 카테고리 삭제 ✅
**As a** 사용자
**I want to** 사용하지 않는 카테고리를 삭제할 수 있다
**So that** 카테고리 목록을 깔끔하게 유지할 수 있다

**구현 상태:**
- ✅ 백엔드: `DELETE /api/category/:id`
- ✅ 프론트엔드: `Settings.tsx` > `KebabMenu.tsx`

**Acceptance Criteria:**
- [x] 삭제 전 확인 메시지 표시
- [ ] 하위 카테고리가 있으면 삭제 불가 또는 일괄 삭제 선택
- [ ] 해당 카테고리 사용 내역 처리 안내
- [x] 삭제 성공 시 목록에서 제거

### 3.5 기본 카테고리 제공 ❌
**As a** 신규 사용자
**I want to** 회원가입 시 기본 카테고리가 자동으로 생성되길 원한다
**So that** 카테고리 설정 없이 바로 가계부를 사용할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 회원가입 시 기본 수입 카테고리 생성
- [ ] 회원가입 시 기본 지출 카테고리 생성
- [ ] 식비, 교통비, 의류, 문화생활 등 일반적인 카테고리 포함
- [ ] 사용자가 나중에 수정/삭제 가능

---

## 4. 가계부 내역 관리

### 4.1 지출 내역 추가 🔧
**As a** 사용자
**I want to** 지출 내역을 기록할 수 있다
**So that** 내가 어디에 돈을 썼는지 추적할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/receipt` (type: 0)
- ⏳ 프론트엔드: `BudgetTab.tsx` (UI 부분 구현)

**Acceptance Criteria:**
- [x] 금액 입력 (숫자만)
- [x] 사용 자산 선택 (카드/계좌)
- [x] 카테고리 선택 (3단계 계층)
- [x] 내용/메모 입력
- [x] 사용 장소 입력 (선택사항)
- [ ] 날짜/시간 선택 (기본값: 현재)
- [x] 저장 시 자산 잔액 자동 차감
- [ ] 목록에 즉시 반영

### 4.2 수입 내역 추가 🔧
**As a** 사용자
**I want to** 수입 내역을 기록할 수 있다
**So that** 내 수입원을 관리할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/receipt` (type: 1)
- ⏳ 프론트엔드: `BudgetTab.tsx` (UI 부분 구현)

**Acceptance Criteria:**
- [x] 금액 입력
- [x] 입금 자산 선택
- [x] 수입 카테고리 선택 (급여, 용돈, 기타 등)
- [x] 내용/메모 입력
- [ ] 날짜/시간 선택
- [x] 저장 시 자산 잔액 자동 증가
- [ ] 목록에 즉시 반영

### 4.3 이체 내역 추가 🔧
**As a** 사용자
**I want to** 자산 간 이체 내역을 기록할 수 있다
**So that** 계좌 이체나 카드 결제를 정확히 추적할 수 있다

**구현 상태:**
- ✅ 백엔드: `POST /api/receipt` (type: 2, trs_asset_id 사용)
- ⏳ 프론트엔드: `BudgetTab.tsx` (UI 부분 구현)

**Acceptance Criteria:**
- [x] 출금 자산 선택
- [x] 입금 자산 선택 (trs_asset_id)
- [x] 이체 금액 입력
- [x] 내용/메모 입력
- [ ] 날짜/시간 선택
- [x] 저장 시 출금 자산 잔액 차감, 입금 자산 잔액 증가
- [ ] 목록에 즉시 반영

### 4.4 거래 내역 목록 조회 🔧
**As a** 사용자
**I want to** 내 모든 거래 내역을 볼 수 있다
**So that** 내 지출/수입 패턴을 확인할 수 있다

**구현 상태:**
- ✅ 백엔드: `GET /api/receipt`
- ⏳ 프론트엔드: `BudgetTab.tsx` (기본 목록 표시)

**Acceptance Criteria:**
- [x] 최근 거래 내역부터 시간순 정렬
- [ ] 거래 유형별 아이콘/색상 구분 (지출/수입/이체)
- [x] 카테고리, 금액, 자산, 날짜 표시
- [ ] 무한 스크롤 또는 페이지네이션
- [ ] 날짜별 그룹화 표시

### 4.5 거래 내역 상세 조회 ❌
**As a** 사용자
**I want to** 특정 거래의 상세 정보를 볼 수 있다
**So that** 거래의 모든 세부사항을 확인할 수 있다

**구현 상태:**
- ✅ 백엔드: `GET /api/receipt/:id` (추정)
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 금액, 카테고리, 자산 표시
- [ ] 내용/메모 표시
- [ ] 장소 표시 (있는 경우)
- [ ] 거래 일시 표시
- [ ] 수정/삭제 버튼

### 4.6 거래 내역 수정 🔧
**As a** 사용자
**I want to** 잘못 입력한 거래 내역을 수정할 수 있다
**So that** 정확한 가계부를 유지할 수 있다

**구현 상태:**
- ✅ 백엔드: `PUT /api/receipt/:id`
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 모든 필드 수정 가능
- [x] 금액 수정 시 자산 잔액 자동 조정
- [ ] 수정 성공 시 목록 즉시 반영
- [ ] 수정 이력 기록 (선택사항)

### 4.7 거래 내역 삭제 🔧
**As a** 사용자
**I want to** 잘못 입력한 거래 내역을 삭제할 수 있다
**So that** 오류 데이터를 정리할 수 있다

**구현 상태:**
- ✅ 백엔드: `DELETE /api/receipt/:id`
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 삭제 전 확인 메시지 표시
- [x] 삭제 시 자산 잔액 자동 복구
- [ ] 삭제 성공 시 목록에서 제거
- [ ] 삭제 취소 기능 (선택사항)

### 4.8 반복 거래 등록 ❌
**As a** 사용자
**I want to** 정기적으로 발생하는 거래를 반복 등록할 수 있다
**So that** 매번 같은 내역을 입력하지 않아도 된다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 반복 주기 설정 (매일, 매주, 매월, 매년)
- [ ] 종료 날짜 설정 또는 무기한
- [ ] 자동 등록 시 알림
- [ ] 반복 거래 목록 관리

---

## 5. 통계 및 분석

### 5.1 월별 지출 통계 ⏳
**As a** 사용자
**I want to** 월별 지출 내역을 그래프로 볼 수 있다
**So that** 내 지출 추이를 파악할 수 있다

**구현 상태:**
- 🔧 백엔드: Statistics 테이블 존재, API 미확인
- ⏳ 프론트엔드: `StatisticsTab.tsx` (기본 구조)

**Acceptance Criteria:**
- [ ] 최근 6개월~1년 데이터 표시
- [ ] 막대 그래프 또는 선 그래프
- [ ] 월별 총 지출 금액 표시
- [ ] 전월 대비 증감률 표시

### 5.2 카테고리별 지출 분석 ⏳
**As a** 사용자
**I want to** 카테고리별 지출 비중을 볼 수 있다
**So that** 어디에 돈을 가장 많이 쓰는지 알 수 있다

**구현 상태:**
- ❌ 백엔드: 미확인
- ⏳ 프론트엔드: `StatisticsTab.tsx` (기본 구조)

**Acceptance Criteria:**
- [ ] 원형 차트 또는 도넛 차트
- [ ] 카테고리별 금액 및 비율 표시
- [ ] 상위 5~10개 카테고리 강조
- [ ] 특정 기간 선택 가능 (월별, 분기별, 연도별)

### 5.3 수입 vs 지출 비교 ❌
**As a** 사용자
**I want to** 수입과 지출을 비교할 수 있다
**So that** 내가 흑자인지 적자인지 알 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 월별 수입/지출 금액 표시
- [ ] 차액(잔여 금액) 계산 및 표시
- [ ] 흑자/적자 색상으로 구분
- [ ] 누적 그래프 제공

### 5.4 자산별 거래 내역 통계 ❌
**As a** 사용자
**I want to** 자산별로 얼마나 사용했는지 볼 수 있다
**So that** 어떤 카드/계좌를 가장 많이 사용하는지 알 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 자산별 거래 횟수 표시
- [ ] 자산별 총 사용 금액 표시
- [ ] 자산별 평균 거래 금액 표시
- [ ] 막대 그래프로 비교

### 5.5 일별 지출 캘린더 ❌
**As a** 사용자
**I want to** 캘린더 형태로 일별 지출을 볼 수 있다
**So that** 특정 날짜의 지출을 쉽게 확인할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 월별 캘린더 표시
- [ ] 각 날짜에 해당일 지출 금액 표시
- [ ] 지출 금액에 따른 색상 강도 차이
- [ ] 날짜 클릭 시 상세 내역 표시

---

## 6. 검색 및 필터링

> **전체 구현 상태: ❌ 미구현**

### 6.1 거래 내역 검색 ❌
**As a** 사용자
**I want to** 특정 키워드로 거래 내역을 검색할 수 있다
**So that** 원하는 거래를 빠르게 찾을 수 있다

**Acceptance Criteria:**
- [ ] 내용/메모 기반 검색
- [ ] 장소 기반 검색
- [ ] 실시간 검색 결과 표시
- [ ] 검색 결과 개수 표시

### 6.2 기간별 필터링 ❌
**As a** 사용자
**I want to** 특정 기간의 거래 내역만 볼 수 있다
**So that** 원하는 시기의 지출을 분석할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 시작일/종료일 선택
- [ ] 빠른 필터: 오늘, 이번 주, 이번 달, 최근 3개월 등
- [ ] 필터 적용 시 즉시 목록 업데이트
- [ ] 선택된 기간 표시

### 6.3 카테고리별 필터링 ❌
**As a** 사용자
**I want to** 특정 카테고리의 거래만 볼 수 있다
**So that** 특정 항목의 지출을 집중적으로 확인할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 카테고리 선택 드롭다운
- [ ] 복수 카테고리 선택 가능
- [ ] 하위 카테고리 자동 포함 옵션
- [ ] 필터 적용 시 즉시 목록 업데이트

### 6.4 자산별 필터링 ❌
**As a** 사용자
**I want to** 특정 자산의 거래만 볼 수 있다
**So that** 특정 카드/계좌의 사용 내역을 확인할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 자산 선택 드롭다운
- [ ] 복수 자산 선택 가능
- [ ] 필터 적용 시 즉시 목록 업데이트

### 6.5 금액 범위 필터링 ❌
**As a** 사용자
**I want to** 특정 금액 범위의 거래만 볼 수 있다
**So that** 큰 지출이나 작은 지출만 따로 확인할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 최소 금액 입력
- [ ] 최대 금액 입력
- [ ] 범위 슬라이더 UI (선택사항)
- [ ] 필터 적용 시 즉시 목록 업데이트

---

## 7. 예산 관리

> **전체 구현 상태: ❌ 미구현**

### 7.1 월별 예산 설정 ❌
**As a** 사용자
**I want to** 월별 지출 예산을 설정할 수 있다
**So that** 과소비를 방지할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 월별 총 예산 금액 설정
- [ ] 카테고리별 예산 설정 (선택사항)
- [ ] 예산 수정/삭제 가능
- [ ] 예산 초과 시 알림

### 7.2 예산 사용 현황 ❌
**As a** 사용자
**I want to** 현재 예산 사용 현황을 볼 수 있다
**So that** 남은 예산을 확인할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 총 예산 대비 사용 금액 표시
- [ ] 진행률 바 (Progress bar)
- [ ] 남은 예산 금액 표시
- [ ] 일평균 사용 가능 금액 표시

### 7.3 예산 초과 경고 ❌
**As a** 사용자
**I want to** 예산을 초과하면 경고를 받을 수 있다
**So that** 과소비를 인지할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 예산의 80% 도달 시 경고
- [ ] 예산 100% 초과 시 강력한 경고
- [ ] 경고 메시지 표시 또는 푸시 알림
- [ ] 경고 무시 옵션

---

## 8. 알림 및 리마인더

> **전체 구현 상태: ❌ 미구현**

### 8.1 정기 지출 알림 ❌
**As a** 사용자
**I want to** 정기 지출(월세, 구독료 등) 납부일을 알림받을 수 있다
**So that** 납부를 잊지 않을 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 정기 지출 항목 등록
- [ ] 알림 날짜 설정
- [ ] 알림 시간 설정
- [ ] 푸시 알림 또는 이메일 알림
- [ ] 알림 후 자동 거래 등록 옵션

### 8.2 목표 달성 알림 ❌
**As a** 사용자
**I want to** 저축 목표를 달성하면 알림을 받을 수 있다
**So that** 성취감을 느낄 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 목표 금액 설정
- [ ] 목표 달성 시 축하 메시지
- [ ] 진행률 표시

### 8.3 예산 알림 ❌
**As a** 사용자
**I want to** 예산 관련 알림을 받을 수 있다
**So that** 지출을 조절할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 예산 50%, 80%, 100% 도달 시 알림
- [ ] 월말 남은 예산 알림
- [ ] 알림 설정 on/off 가능

---

## 9. 데이터 관리

> **전체 구현 상태: ❌ 미구현**

### 9.1 데이터 백업 ❌
**As a** 사용자
**I want to** 내 가계부 데이터를 백업할 수 있다
**So that** 데이터 손실을 방지할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 전체 데이터 내보내기 (CSV, Excel)
- [ ] 백업 파일 다운로드
- [ ] 백업 주기 설정 (자동 백업)
- [ ] 클라우드 백업 옵션

### 9.2 데이터 복원 ❌
**As a** 사용자
**I want to** 백업한 데이터를 복원할 수 있다
**So that** 기기 변경 시에도 데이터를 유지할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 백업 파일 업로드
- [ ] 기존 데이터 덮어쓰기 또는 병합 선택
- [ ] 복원 전 미리보기
- [ ] 복원 성공/실패 알림

### 9.3 데이터 내보내기 ❌
**As a** 사용자
**I want to** 특정 기간의 데이터를 엑셀로 내보낼 수 있다
**So that** 외부에서 추가 분석을 할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 기간 선택
- [ ] CSV 또는 Excel 형식 선택
- [ ] 포함할 항목 선택 (거래내역, 통계 등)
- [ ] 다운로드 링크 제공

### 9.4 데이터 가져오기 ❌
**As a** 사용자
**I want to** 다른 가계부 앱의 데이터를 가져올 수 있다
**So that** 이전 기록을 유지할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] CSV 파일 업로드
- [ ] 필드 매핑 (자동 또는 수동)
- [ ] 중복 데이터 체크
- [ ] 가져오기 성공/실패 알림

---

## 10. 영수증 OCR 스캔 (주요 기능)

> **전체 구현 상태: ❌ 미구현**
>
> **핵심 기능**: 영수증 사진을 업로드하면 자동으로 품목별 정보를 추출하여 거래 내역으로 등록

### 10.1 영수증 사진 업로드 ❌
**As a** 사용자
**I want to** 영수증 사진을 촬영하거나 갤러리에서 선택하여 업로드할 수 있다
**So that** 수동 입력 없이 빠르게 지출 내역을 기록할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 카메라로 영수증 직접 촬영
- [ ] 갤러리에서 영수증 사진 선택
- [ ] 이미지 미리보기 제공
- [ ] 이미지 회전/자르기 기능
- [ ] 지원 형식: JPG, PNG, HEIC
- [ ] 최대 파일 크기: 10MB
- [ ] 여러 장 동시 업로드 가능

**기술 스택 고려사항:**
- OCR 엔진: Google Cloud Vision API, Tesseract.js, Clova OCR
- 이미지 처리: Sharp (Node.js), Pillow (Python)
- 파일 업로드: Multer (Express.js)

### 10.2 영수증 텍스트 추출 (OCR) ❌
**As a** 시스템
**I want to** 업로드된 영수증 이미지에서 텍스트를 추출한다
**So that** 구조화된 데이터로 변환할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 영수증 이미지에서 텍스트 인식
- [ ] 한글/영문/숫자 인식
- [ ] 기울어진 이미지 자동 보정
- [ ] 저화질 이미지 전처리
- [ ] OCR 신뢰도 점수 제공
- [ ] 처리 시간: 5초 이내
- [ ] 인식률 목표: 90% 이상

**추출해야 할 정보:**
- 상호명 (매장 이름)
- 거래 일시
- 품목명 및 수량
- 품목별 단가 및 금액
- 총 결제 금액
- 결제 수단 (카드, 현금 등)

### 10.3 영수증 데이터 파싱 및 구조화 ❌
**As a** 시스템
**I want to** 추출된 텍스트를 구조화된 데이터로 파싱한다
**So that** 품목별 정보를 정확히 분류할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 상호명 파싱 및 검증
- [ ] 날짜/시간 형식 파싱 (다양한 형식 지원)
- [ ] 품목 라인 분리 및 파싱
- [ ] 금액 숫자 추출 (콤마, 원 기호 제거)
- [ ] 총액 계산 검증
- [ ] 잘못된 인식 데이터 필터링
- [ ] 구조화된 JSON 형식 반환

**파싱 결과 예시:**
```json
{
  "storeName": "GS25 강남점",
  "transactionDate": "2024-01-15T14:30:00",
  "items": [
    {
      "name": "삼각김밥",
      "quantity": 2,
      "unitPrice": 1500,
      "totalPrice": 3000
    },
    {
      "name": "콜라 500ml",
      "quantity": 1,
      "unitPrice": 1200,
      "totalPrice": 1200
    }
  ],
  "totalAmount": 4200,
  "paymentMethod": "카드"
}
```

### 10.4 품목 자동 카테고리 분류 ❌
**As a** 시스템
**I want to** 각 품목을 적절한 카테고리에 자동으로 분류한다
**So that** 사용자가 수동으로 분류하지 않아도 된다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 품목명 기반 카테고리 매칭
- [ ] 상호명 기반 카테고리 추론 (편의점 → 식비)
- [ ] 키워드 사전 활용
- [ ] 사용자의 과거 분류 패턴 학습
- [ ] 불확실한 경우 사용자 확인 요청
- [ ] 기본 카테고리 매핑 제공

**카테고리 매핑 예시:**
- "삼각김밥", "도시락" → 식비 > 편의점
- "커피", "아메리카노" → 식비 > 카페
- "영화", "관람료" → 문화생활 > 영화
- "지하철", "버스" → 교통비

**기술 고려사항:**
- 키워드 매칭 알고리즘
- 머신러닝 분류 모델 (향후)
- 사용자별 학습 데이터 저장

### 10.5 영수증 정보 확인 및 수정 ❌
**As a** 사용자
**I want to** OCR로 추출된 정보를 확인하고 수정할 수 있다
**So that** 잘못 인식된 정보를 바로잡을 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 추출된 영수증 정보 미리보기
- [ ] 원본 이미지와 함께 표시
- [ ] 각 필드 수정 가능 (상호명, 날짜, 품목, 금액)
- [ ] 품목별 카테고리 수정 가능
- [ ] 품목 추가/삭제 가능
- [ ] 자산(결제 수단) 선택 가능
- [ ] 실시간 총액 계산 및 검증
- [ ] 수정 사항 저장

### 10.6 품목별 거래 내역 일괄 등록 ❌
**As a** 사용자
**I want to** 확인/수정된 영수증 정보를 품목별로 일괄 등록할 수 있다
**So that** 여러 품목을 개별적으로 관리할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 품목별로 개별 거래 내역 생성
- [ ] 각 품목에 카테고리 할당
- [ ] 동일한 거래 일시 적용
- [ ] 동일한 자산 적용
- [ ] 자산 잔액 자동 차감
- [ ] 트랜잭션 처리 (전체 성공 또는 전체 실패)
- [ ] 등록 완료 알림

**등록 옵션:**
- **개별 등록**: 품목마다 별도 거래 내역 생성
- **통합 등록**: 영수증 전체를 하나의 거래 내역으로 등록

### 10.7 영수증 OCR 설정 ❌
**As a** 사용자
**I want to** 영수증 OCR 기능 관련 설정을 조정할 수 있다
**So that** 내 사용 패턴에 맞게 최적화할 수 있다

**구현 상태:**
- ❌ 백엔드: 미구현
- ❌ 프론트엔드: 미구현

**Acceptance Criteria:**
- [ ] 자동 카테고리 분류 on/off
- [ ] 기본 자산 설정
- [ ] 품목별 등록 vs 통합 등록 선택
- [ ] OCR 언어 설정 (한글, 영문)
- [ ] 이미지 화질 설정 (고화질, 표준, 압축)
- [ ] 자동 업로드 여부 설정

---

## 우선순위

### 핵심 기능 (Core Feature) - 차별화 포인트
- [ ] **1. 영수증 OCR 스캔 및 자동 등록** ⭐
   - [ ] 영수증 사진 업로드
   - [ ] 텍스트 자동 추출 (OCR)
   - [ ] 품목별 자동 분류 및 카테고리 매칭
   - [ ] 일괄 거래 내역 등록

### 필수 기능 (Must Have) - MVP
- [x] 2. 사용자 관리 (회원가입, 로그인, 로그아웃)
- [x] 3. 자산 관리 (추가, 조회, 수정, 삭제)
- [x] 4. 카테고리 관리 (추가, 조회, 수정, 삭제)
- [~] 5. 가계부 내역 관리 (지출/수입 추가, 조회, 수정, 삭제) - 백엔드 완료, 프론트엔드 부분 구현
- [~] 6. 기본 통계 (월별 지출, 카테고리별 지출) - 부분 구현

### 중요 기능 (Should Have)
- [ ] 7. 이체 기능
- [ ] 8. 거래 내역 검색 및 필터링
- [ ] 9. 상세 통계 및 분석
- [ ] 10. 예산 관리

### 추가 기능 (Could Have)
- [ ] 11. 알림 및 리마인더
- [ ] 12. 반복 거래
- [ ] 13. 데이터 백업/복원
- [ ] 14. 데이터 내보내기/가져오기

### 향후 고려 (Won't Have - 현재 버전)
- [ ] 15. 다중 사용자 공유 가계부
- [ ] 16. 음성 입력
- [ ] 17. AI 기반 지출 예측 및 추천
- [ ] 18. 금융 상품 추천
